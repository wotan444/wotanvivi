<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- 引入Bootstrap CSS和图标库 -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <link rel="stylesheet" href="styles.css"> <!-- 自定义CSS -->
  <title>Checkout</title>
  <style>
    /* 页面标题样式 */
    .page-title {
      text-align: center;
      margin: 2rem 0;
      font-weight: 600;
    }
    
    /* 步骤指示器样式 */
    .checkout-steps {
      display: flex;
      justify-content: space-between;
      margin-bottom: 2rem;
      position: relative;
    }
    
    .checkout-steps::before {
      content: '';
      position: absolute;
      top: 15px;
      left: 10%;
      right: 10%;
      height: 1px;
      background-color: #e9ecef;
      z-index: 1;
    }
    
    .step {
      position: relative;
      z-index: 2;
      text-align: center;
      width: 25%;
    }
    
    .step-icon {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background-color: #f8f9fa;
      color: #6c757d;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 0.5rem;
    }
    
    .step.active .step-icon {
      background-color: #212529;
      color: white;
    }
    
    .step.completed .step-icon {
      background-color: #28a745;
      color: white;
    }
    
    .step-name {
      font-size: 0.9rem;
      font-weight: 500;
    }
    
    /* 表单样式 */
    .form-section {
      background-color: white;
      border-radius: 4px;
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      border: 1px solid #e9ecef;
    }
    
    .form-section-title {
      margin-bottom: 1rem;
      font-weight: 600;
    }
    
    /* 订单摘要样式 */
    .order-summary {
      background-color: #f8f9fa;
      border-radius: 4px;
      padding: 1.5rem;
    }
    
    .summary-item {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5rem;
      font-size: 0.9rem;
    }
    
    .divider {
      border-top: 1px solid #e9ecef;
      margin: 1rem 0;
    }
    
    /* 支付方式选择样式 */
    .payment-option {
      border: 1px solid #e9ecef;
      border-radius: 4px;
      padding: 1rem;
      margin-bottom: 1rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .payment-option:hover {
      border-color: #adb5bd;
    }
    
    .payment-option.selected {
      border-color: #212529;
      background-color: rgba(0, 0, 0, 0.02);
    }
    
    .payment-option input {
      margin-right: 0.5rem;
    }
    
    /* 按钮样式 */
    .btn-dark {
      background-color: #212529;
      border-color: #212529;
    }
    
    .btn-dark:hover {
      background-color: #343a40;
      border-color: #343a40;
    }
  </style>
</head>

<body>
  <!-- 导航栏 - 与其他页面保持一致 -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <!-- 移动端菜单按钮 -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- 导航菜单 -->
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <!-- 左侧菜单 -->
          <li class="nav-item">
            <a class="nav-link" href="index.html">
              <i class="bi bi-list me-1"></i> Menu
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <i class="bi bi-search me-1"></i> Search
            </a>
          </li>
        </ul>
        
        <!-- 右侧菜单 - 使用ms-auto将其推到右侧 -->
        <ul class="navbar-nav ms-auto">
          <!-- 登录按钮 -->
          <li class="nav-item">
            <a class="nav-link" href="login.html">
              <i class="bi bi-person me-1"></i> Login
            </a>
          </li>

          <!-- 购物车按钮 -->
          <li class="nav-item position-relative">
            <a class="nav-link" href="mycart.html">
              <i class="bi bi-cart me-1"></i> Mycart
              <!-- 购物车数量标记 -->
              <span class="position-absolute top-0 right-0 bg-danger text-white rounded-circle" style="width: 18px; height: 18px; font-size: 12px; display: flex; align-items: center; justify-content: center;">3</span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- 页面标题 -->
  <div class="container">
    <h2 class="page-title">CHECKOUT</h2>
    
    <!-- 结账步骤指示器 -->
    <div class="checkout-steps">
      <div class="step completed">
        <div class="step-icon">
          <i class="bi bi-check"></i>
        </div>
        <div class="step-name">Cart</div>
      </div>
      <div class="step active">
        <div class="step-icon">2</div>
        <div class="step-name">Information</div>
      </div>
      <div class="step">
        <div class="step-icon">3</div>
        <div class="step-name">Shipping</div>
      </div>
      <div class="step">
        <div class="step-icon">4</div>
        <div class="step-name">Payment</div>
      </div>
    </div>
  </div>

  <!-- 结账内容区域 -->
  <div class="container mb-5">
    <div class="row">
      <!-- 左侧表单区域 -->
      <div class="col-lg-8">
        <!-- 联系信息 -->
        <div class="form-section">
          <h5 class="form-section-title">CONTACT INFORMATION</h5>
          <div class="mb-3">
            <input type="email" class="form-control" placeholder="Email" value="customer@example.com">
            <div class="form-text">We'll send your order confirmation here</div>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="newsletter">
            <label class="form-check-label" for="newsletter">
              Email me with news and offers
            </label>
          </div>
        </div>
        
        <!-- 收货地址 -->
        <div class="form-section">
          <h5 class="form-section-title">SHIPPING ADDRESS</h5>
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="firstName" class="form-label">First name</label>
              <input type="text" class="form-control" id="firstName" value="">
            </div>
            <div class="col-md-6">
              <label for="lastName" class="form-label">Last name</label>
              <input type="text" class="form-control" id="lastName" value="">
            </div>
          </div>
          
          <div class="mb-3">
            <label for="address" class="form-label">Address</label>
            <input type="text" class="form-control" id="address" placeholder="Street address" value="">
          </div>
          
          <div class="mb-3">
            <input type="text" class="form-control" placeholder="Apartment, suite, etc. (optional)" value="">
          </div>
          
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="city" class="form-label">City</label>
              <input type="text" class="form-control" id="city" value="">
            </div>
            <div class="col-md-3">
              <label for="state" class="form-label">State</label>
              <input type="text" class="form-control" id="state" value="">
            </div>
            <div class="col-md-3">
              <label for="zip" class="form-label">ZIP code</label>
              <input type="text" class="form-control" id="zip" value="">
            </div>
          </div>
          
          <div class="mb-3">
            <label for="country" class="form-label">Country</label>
            <select class="form-select" id="country">
              <option value="us" selected>United States</option>
              <option value="uk">United Kingdom</option>
              <option value="ca">Canada</option>
              <option value="au">Australia</option>
              <option value="hk">Hong Kong</option>
              <!-- 更多国家选项 -->
            </select>
          </div>
          
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="saveAddress">
            <label class="form-check-label" for="saveAddress">
              Save this address for next time
            </label>
          </div>
        </div>
        
        <!-- 配送方式 -->
        <div class="form-section">
          <h5 class="form-section-title">SHIPPING METHOD</h5>
          
          <div class="shipping-option">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="shipping" id="standard" checked>
              <label class="form-check-label" for="standard">
                <strong>Standard Shipping</strong> - Free
              </label>
            </div>
            <p class="text-muted mb-0">Delivery in 4-6 business days</p>
          </div>
          
          <div class="shipping-option">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="shipping" id="express">
              <label class="form-check-label" for="express">
                <strong>Express Shipping</strong> - €15.00
              </label>
            </div>
            <p class="text-muted mb-0">Delivery in 1-2 business days</p>
          </div>
        </div>
        
        <!-- 支付方式 -->
        <div class="form-section">
          <h5 class="form-section-title">PAYMENT METHOD</h5>
          
          <div class="payment-option selected" onclick="selectPayment('card')">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="payment" id="card" checked>
              <label class="form-check-label" for="card">
                <strong>Credit / Debit Card</strong>
              </label>
            </div>
          </div>
          
          <div class="payment-option" onclick="selectPayment('paypal')">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="payment" id="paypal">
              <label class="form-check-label" for="paypal">
                <strong>PayPal</strong>
              </label>
            </div>
          </div>
          
          <!-- 信用卡表单 (默认显示) -->
          <div id="card-form">
            <div class="mb-3">
              <label for="cardNumber" class="form-label">Card number</label>
              <input type="text" class="form-control" id="cardNumber" placeholder="1234 5678 9012 3456">
            </div>
            
            <div class="row mb-3">
              <div class="col-md-6">
                <label for="expiry" class="form-label">Expiration date</label>
                <input type="text" class="form-control" id="expiry" placeholder="MM/YY">
              </div>
              <div class="col-md-6">
                <label for="cvv" class="form-label">CVV</label>
                <input type="text" class="form-control" id="cvv" placeholder="123">
              </div>
            </div>
            
            <div class="mb-3">
              <label for="cardName" class="form-label">Name on card</label>
              <input type="text" class="form-control" id="cardName" placeholder="John Doe">
            </div>
          </div>
          
          <!-- PayPal表单 (默认隐藏) -->
          <div id="paypal-form" style="display: none;">
            <p>You will be redirected to PayPal to complete your purchase.</p>
          </div>
        </div>
        
        <!-- 操作按钮 -->
        <div class="d-flex justify-content-between mt-4">
          <a href="mycart.html" class="btn btn-outline-dark">
            <i class="bi bi-arrow-left me-2"></i> Back to Cart
          </a>
          <button id="place-order" class="btn btn-dark">
            Place Order <i class="bi bi-arrow-right ms-2"></i>
          </button>
        </div>
      </div>
      
      <!-- 右侧订单摘要 -->
      <div class="col-lg-4">
        <div class="order-summary">
          <h5 class="mb-4">ORDER SUMMARY</h5>
          
          <!-- 订单商品列表 -->
          <div class="mb-4">
            <!-- 商品1 -->
            <div class="summary-item mb-3">
              <div>
                <span class="d-block">NEW DIAMANTE HEART BRACELET x1</span>
                <span class="text-muted">Color: Silver</span>
              </div>
              <div>€185</div>
            </div>
            
            <!-- 商品2 -->
            <div class="summary-item mb-3">
              <div>
                <span class="d-block">NEW DIAMANTE HEART EARRINGS x1</span>
                <span class="text-muted">Color: Silver</span>
              </div>
              <div>€200</div>
            </div>
            
            <!-- 商品3 -->
            <div class="summary-item">
              <div>
                <span class="d-block">HEART CARD HOLDER x1</span>
                <span class="text-muted">Color: Black</span>
              </div>
              <div>€180</div>
            </div>
          </div>
          
          <div class="divider"></div>
          
          <!-- 价格明细 -->
          <div class="summary-item">
            <div>Subtotal</div>
            <div>€565.00</div>
          </div>
          
          <div class="summary-item">
            <div>Shipping</div>
            <div>Free</div>
          </div>
          
          <div class="summary-item">
            <div>Tax (10%)</div>
            <div>€56.50</div>
          </div>
          
          <div class="summary-item">
            <div>Discount <span class="badge bg-danger">70% OFF</span></div>
            <div class="text-danger">-€395.50</div>
          </div>
          
          <div class="divider"></div>
          
          <!-- 总计 -->
          <div class="summary-item fw-bold">
            <div>TOTAL</div>
            <div>€226.00</div>
          </div>
          
          <!-- 优惠码 -->
          <div class="mt-4">
            <div class="input-group">
              <input type="text" class="form-control" placeholder="Enter promo code" id="checkout-promo" value="WOTAN" disabled>
              <button class="btn btn-outline-dark" type="button" disabled>Applied</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 订单成功模态框 -->
  <div class="modal fade" id="orderSuccessModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content p-4">
        <div class="text-center">
          <div class="w-16 h-16 bg-success text-white rounded-full mx-auto flex items-center justify-center mb-4">
            <i class="bi bi-check fs-2"></i>
          </div>
          <h5 class="modal-title mb-2">Order Placed Successfully!</h5>
          <p class="text-muted mb-4">Thank you for your purchase. Your order number is <strong>#WO123456</strong></p>
          <p class="text-muted mb-4">We've sent a confirmation email with all the details.</p>
          <button type="button" class="btn btn-dark" onclick="window.location.href='index.html'">
            Continue Shopping
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- 引入Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  
  <script>
    // 检查登录状态 - 与其他页面保持一致
    if (localStorage.getItem('isLogin') === 'true') {
      const currentUser = JSON.parse(localStorage.getItem('currentUser'));
      // 替换登录按钮为用户信息和退出按钮
      const loginItem = document.querySelector('a[href="login.html"]').parentNode;
      loginItem.innerHTML = `
        <div class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
            <i class="bi bi-person me-1"></i> ${currentUser.username}
          </a>
          <ul class="dropdown-menu dropdown-menu-end">
            <li><a class="dropdown-item" href="#" onclick="logout()">Logout</a></li>
          </ul>
        </div>
      `;
    }

    // 退出登录功能
    function logout() {
      localStorage.removeItem('isLogin');
      localStorage.removeItem('currentUser');
      window.location.reload();
    }
    
    // 支付方式选择
    function selectPayment(method) {
      // 移除所有选中状态
      document.querySelectorAll('.payment-option').forEach(option => {
        option.classList.remove('selected');
      });
      
      // 添加选中状态到当前选择
      document.querySelector(`input[name="payment"][id="${method}"]`).parentElement.closest('.payment-option').classList.add('selected');
      
      // 显示对应支付表单
      if (method === 'card') {
        document.getElementById('card-form').style.display = 'block';
        document.getElementById('paypal-form').style.display = 'none';
      } else if (method === 'paypal') {
        document.getElementById('card-form').style.display = 'none';
        document.getElementById('paypal-form').style.display = 'block';
      }
    }
    
    // 配送方式选择影响总价
    document.querySelectorAll('input[name="shipping"]').forEach(option => {
      option.addEventListener('change', function() {
        const totalElement = document.querySelector('.summary-item.fw-bold div:last-child');
        let total = 226.00; // 默认总价
        
        if (this.id === 'express') {
          total += 15.00; // 加急配送加15欧元
          document.querySelector('.summary-item:nth-child(2) div:last-child').textContent = '€15.00';
        } else {
          document.querySelector('.summary-item:nth-child(2) div:last-child').textContent = 'Free';
        }
        
        totalElement.textContent = `€${total.toFixed(2)}`;
      });
    });
    
    // 提交订单按钮事件
    document.getElementById('place-order').addEventListener('click', function() {
      // 显示成功模态框
      const modal = new bootstrap.Modal(document.getElementById('orderSuccessModal'));
      modal.show();
      
      // 清空购物车
      localStorage.removeItem('cartItems');
    });
  </script>
</body>

</html>